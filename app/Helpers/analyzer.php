<?php

Use Sentiment\Analyzer;

if (!function_exists('analyzesentiment')) {
    function analyzesentiment($textToAnalyze){
        
        if (!is_string($textToAnalyze)) {
            print_r("Input must be a string");
        }
        $analyzer = new Analyzer();
    
        $newWords = [
            'Nagtatangka' => '-0.5',
            'Nagtataboy' => '-0.5',
            'Negatibo' => '-1.0',
            'Nagmamalaki' => '-1.0',
            'Pang-ibabaw' => '-1.0',
            'Pangdepensa' => '-0.5',
            'Magulo' => '-1.0',
            'Mapanlinlang' => '-1.0',
            'Mayabang' => '-1.0',
            'Makasarili' => '-1.0',
            'Kakulangan' => '-1.0',
            'Kawalan' => '-1.0',
            'Hirap' => '-1.0',
            'Pagkakamali' => '-1.0',
            'Kasinungalingan' => '-1.0',
            'Bias' => '-0.5',
            'Takot' => '-1.0',
            'Sarili' => '-1.0',
            'Kawalang-gana' => '-1.0',
            'Paghihirap' => '-1.0',
            'Kasalanan' => '-1.0',
            'Takipsilim' => '-0.5',
            'Pagkabalisa' => '-1.0',
            'Bula' => '-1.0',
            'Panghihinayang' => '-1.0',
            'Pangungutya' => '-1.0',
            'Kaguluhan' => '-1.0',
            'Kawalang-malay' => '-1.0',
            'Banta' => '-0.5',
            'Pagsisisi' => '-1.0',
            'Pag-aalala' => '-0.5',
            'Pag-asa' => '1.0',
            'Tagumpay' => '1.0',
            'Sigla' => '1.0',
            'Paghanga' => '1.0',
            'Biyaya' => '1.0',
            'Kagalakan' => '1.0',
            'Saya' => '1.0',
            'Pag-ibig' => '1.0',
            'Kaligayahan' => '1.0',
            'Pag-unlad' => '1.0',
            'Kalayaan' => '1.0',
            'Kasiyahan' => '1.0',
            'Pagsulong' => '1.0',
            'Pagkaibigan' => '1.0',
            'Pagkakaisa' => '1.0',
            'Pagtanggap' => '1.0',
            'Bunga' => '0.5',
            'Buhay' => '1.0',
            'Kapaligiran' => '0.5',
            'Pagsisikap' => '1.0',
            'Pagsasakripisyo' => '1.0',
            'Pagtutulungan' => '1.0',
            'Tiwala' => '1.0',
            'Sustento' => '0.5',
            'Kalusugan' => '1.0',
            'Kagandahan' => '1.0',
            'Pangarap' => '1.0',
            'Paglago' => '1.0',
            'Kasunduan' => '0.5',
            'Pagtuturo' => '1.0',
            'Pamana' => '0.5',
            'Pasasalamat' => '1.0',
            'Pangangalaga' => '1.0',
            'Pagpupunyagi' => '1.0',
            'Pagkakaibigan' => '1.0',
            'Kapayapaan' => '1.0',
            'Katapatan' => '1.0',
            'Kaginhawaan' => '1.0',
            'Kamalayan' => '0.5',
            'Katotohanan' => '0.5',
            'Kaalaman' => '1.0',
            'Kalinisan' => '1.0',
            'Pagtuklas' => '1.0',
            'Pag-iingat' => '0.5',
            'Pagkakaunawaan' => '1.0',
            'Kasanayan' => '1.0',
            'Pagsasaya' => '1.0',
            'Paghuhusga' => '0.5',
            'Kagustuhan' => '0.5',
            'Pamumuhay' => '0.5',
            'Pagsisiyasat' => '0.5',
            'Pagpili' => '0.5',
            'Konsensya' => '0.5',
            'Pamumuno' => '0.5',
            'Pagsisikhay' => '0.5',
            'Pagsubok' => '-0.5',
            'Pakikipagsapalaran' => '0.5',
            'Pangangalakal' => '0.5',
            'Kalinangan' => '0.5',
            'Buhol' => '0.5',
            'saya' => '1.0',              // joy
            'masaya' => '1.0',            // happy
            'pag-asa' => '1.0',           // hope
            'tagumpay' => '1.0',          // success
            'kagalakan' => '1.0',         // happiness
            'kakulangan' => '-1.0',       // lack
            'hirap' => '-1.0',            // hardship
            'kalungkutan' => '-1.0',      // sadness
            'pagsisisi' => '-1.0',        // regret
            'banta' => '-0.5',            // threat
            'buhay' => '0.0',             // life
            'trabaho' => '0.0',           // work
            'kaibigan' => '1.0',          // friend
            'sikap' => '1.0',              // effort
            'pagkakataon' => '0.5',       // opportunity
            'pagkaawa' => '-0.5',         // pity
            'pagmamahal' => '1.0',        // love
            'katotohanan' => '0.0',       // truth
            'katiwasayan' => '1.0',       // peace
            'paninindigan' => '1.0',      // conviction
            'stress' => '-1.0',           // stress
            'good' => '1.0',              // good
            'sakit' => '-1.0',            // pain
            'challenge' => '0.5',         // challenge
            'kape' => '0.0',              // coffee
            'tulong' => '1.0',            // help
            'kalmado' => '1.0',           // calm
            'mahirap' => '-1.0',          // difficult
            'determinado' => '1.0',       // determined
            'positibo' => '1.0',          // positive
            'napakahirap' => '-1.0',      // very difficult
            'galit' => '-1.0',            // anger
            'sigla' => '1.0',              // energy
            'karangalan' => '1.0',        // honor
            'pagod' => '-0.5',            // tiredness
            'katatawanan' => '1.0',       // humor
            'kapayapaan' => '1.0',        // peace
            'pananampalataya' => '1.0',   // faith
            'basura' => '-1.0',           // trash
            'sigaw' => '-0.5',            // shout
            'maingay' => '-0.5',          // noisy
            'bilog' => '0.0',             // round
            'pagkakaibigan' => '1.0',     // friendship
            'tiwala' => '1.0',            // trust
            'kapanatagan' => '1.0',       // tranquility
            'patuloy' => '1.0',           // continuous
            'pagdiriwang' => '1.0',       // celebration
            'katipunan' => '0.5',         // assembly
            'alam' => '0.0',              // knowledge
            'masikap' => '1.0',           // diligent
            'pag-ibig' => '1.0',          // love
            'pagkaing' => '0.5',          // food
            'tamang' => '0.5',            // right
            'mapagmahal' => '1.0',        // loving
            'mabait' => '1.0',            // kind
            'masalimuot' => '-1.0',       // complicated
            'walang-hanggan' => '1.0',    // eternal
            'salamat' => '1.0',           // thanks
            'suklian' => '0.5',           // change (money)
            'kapwa' => '1.0',             // fellow
            'maasahan' => '1.0',          // reliable
            'sanlibutan' => '0.0',        // world
            'kalikasan' => '1.0',         // nature
            'kakaibang' => '0.5',         // unique
            'napakabait' => '1.0',        // very kind
            'siksik' => '0.0',            // crowded
            'malungkot' => '-1.0',        // sad
            'masama' => '-1.0',           // bad
            'maayos' => '1.0',            // well
            'harapin' => '1.0',           // face
            'makakabawi' => '1.0',        // recover
            'magsimula' => '1.0',         // start
            'maunawaan' => '1.0',         // understand
            'napaka-positive' => '1.0',   // very positive
            'masipag' => '1.0',           // hardworking
            'napaka-unique' => '1.0',     // very unique
            'napakaganda' => '1.0',       // very beautiful
            'sarap' => '1.0',             // delicious
            'tadhana' => '1.0',           // destiny
            'karanasan' => '0.5',         // experience
            'kalinisan' => '1.0',         // cleanliness
            'masarap' => '1.0',           // tasty
            'kapit' => '1.0',             // hold
            'pananalig' => '1.0',         // faith
            'mapagbigay' => '1.0',        // generous
            'kapit-bisig' => '1.0',       // united
            'mahabang' => '0.5',          // long
            'masilayan' => '0.5',         // see
            'tanong' => '0.0',            // question
            'sikaping' => '1.0',          // strive
            'saksihan' => '1.0',          // witness
            'napaka-saya' => '1.0',       // very happy
            'pagpupunyagi' => '1.0',      // perseverance
            'masinop' => '1.0',           // prudent
            'napakahalaga' => '1.0',      // very important
            'kakaiba' => '1.0',           // unusual
            'mapayapa' => '1.0',          // peaceful
            'pag-unlad' => '1.0',         // development
            'napaka-mahirap' => '-1.0',   // very difficult
            'balik' => '0.5',             // return
            'magsalita' => '0.5',         // speak
            'tahimik' => '1.0',           // quiet
            'subok' => '0.5',             // test
            'kalayaan' => '1.0',          // freedom
            'napakahusay' => '1.0',       // very good
            'kawawa' => '-1.0',           // pitiful
            'mabilis' => '1.0',           // fast
            'mahalaga' => '1.0',          // important
            'napaka-mahigpit' => '-1.0',  // very strict
            'maikli' => '0.5',            // short
            'masigla' => '1.0',           // lively
            'katangi-tangi' => '1.0',     // unique
            'makatwiran' => '1.0',        // reasonable
            'masugid' => '1.0',           // diligent
            'mapanlikha' => '1.0',        // creative
            'katapatan' => '1.0',         // honesty
            'pakikipagsapalaran' => '1.0', // adventure
            'tatag' => '1.0',             // strength
            'napakabuti' => '1.0',        // very kind
            'salubungin' => '1.0',        // to greet
            'panatag' => '1.0',           // assured
            'katatagan' => '1.0',         // resilience
            'magaang' => '1.0',           // light (as in easy)
            'kagandahan' => '1.0',        // beauty
            'mapagkawanggawa' => '1.0',   // charitable
            'matagumpay' => '1.0',        // successful
            'masigasig' => '1.0',         // industrious
            'napaka-positibo' => '1.0',   // very positive
            'silangan' => '1.0',          // east (as in direction)
            'tinig' => '0.5',             // voice
            'sulong' => '1.0',            // advance
            'walang-saysay' => '-1.0',    // meaningless
            'sibol' => '1.0',             // growth
            'kawalang-sigla' => '-1.0',   // apathy
            'kamangha-mangha' => '1.0',   // amazing
            'kaligtasan' => '1.0',        // safety
            'matibay' => '1.0',           // sturdy
            'napaka-mabait' => '1.0',     // very kind
            'kaakit-akit' => '1.0',       // attractive
            'maka-Diyos' => '1.0',        // Godly
            'magiliw' => '1.0',           // affectionate
            'malikhain' => '1.0',         // creative
            'napakagaling' => '1.0',      // very good
            'mabuti' => '1.0',            // good
            'masayang-masaya' => '1.0',   // very happy
            'malinis' => '1.0',           // clean
            'napaka-mabilis' => '1.0',    // very fast
            'kawalan' => '-1.0',          // loss
            'napakalalim' => '0.5',       // very deep
            'napaka-pinatibay' => '1.0',  // very strengthened
            'simoy' => '1.0',             // breeze
            'napakainit' => '-1.0',       // very hot
            'madali' => '1.0',            // easy
            'pagmamalaki' => '1.0',       // pride
            'madamdamin' => '1.0',        // emotional
            'napaka-ganda' => '1.0',      // very beautiful
            'napaka-bait' => '1.0',       // very kind
            'napakaligaya' => '1.0',      // very happy
            'maingat' => '1.0',           // careful
            'napakalungkot' => '-1.0',    // very sad
            'napaka-tamis' => '1.0',      // very sweet
            'mapagkumbaba' => '1.0',      // humble
            'maganda' => '1.0',           // beautiful
            'matapat' => '1.0',           // faithful
            'makalipas' => '0.0',         // past
        ];
        
        //Dynamically update the dictionary with the new words
        $analyzer->updateLexicon($newWords);        
        $textToAnalyze = preg_replace('/(o)\1+/', '$1', $textToAnalyze);
        $output_array = $analyzer->getSentiment(strtolower($textToAnalyze));
        return $output_array;
    }
}
